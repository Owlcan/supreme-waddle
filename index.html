<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combat Academy Rules and Regulations</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=MedievalSharp&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #44403c; /* stone-700 */
            color: #a09893; /* stone-100 - User's updated color */
        }
        .medieval-title {
            font-family: 'MedievalSharp', cursive;
        }
        .content-card { /* Will be used for tab panels */
            background-color: #a09893; /* stone-200 - User's updated color */
            color: #292524; /* stone-800 */
            border: 2px solid #f59e0b; /* amber-500 */
            border-top: none; /* Remove top border as tabs will form the top edge */
        }
        .content-card h2 { /* Styling for H2 within tab panels */
            color: #78350f; /* amber-700 */
            border-bottom: 2px solid #f59e0b; /* amber-500 */
        }
        .content-card h3 { /* Styling for H3 within tab panels */
            color: #92400e; /* amber-600 */
        }
        .code-block {
            background-color: #292524; /* stone-800 */
            color: #eab308; /* yellow-500 */
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-family: monospace;
            overflow-x: auto;
            border: 1px solid #f59e0b; /* amber-500 */
        }
        .link-custom {
            color: #b45309; /* amber-600 */
            text-decoration: underline;
        }
        .link-custom:hover {
            color: #f59e0b; /* amber-500 */
        }
        .placeholder-img {
            width: 100%;
            /* max-width: 300px; Default max-width, can be overridden */
            height: auto; /* Crucial for maintaining aspect ratio */
            border-radius: 0.5rem; /* rounded-lg */
            margin: 1rem auto;
            display: block;
            border: 2px solid #f59e0b; /* amber-500 */
        }
        .gold-text {
            color: #f59e0b; /* amber-500 */
        }
        .tab-button {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            background-color: #57534e; /* stone-600 */
            color: #e7e5e4; /* stone-200 */
            border: 2px solid #f59e0b; /* amber-500 */
            border-bottom: none;
            border-radius: 0.5rem 0.5rem 0 0; /* rounded-t-lg */
            font-weight: 600;
            transition: background-color 0.3s, color 0.3s;
            margin-right: 0.25rem;
        }
        .tab-button:hover {
            background-color: #78716c; /* stone-500 */
        }
        .tab-button.active {
            background-color: #a09893; /* stone-200 (same as content-card bg) */
            color: #78350f; /* amber-700 (same as content-card h2) */
            border-bottom: 2px solid #a09893; /* Match content card bg to make it look connected */
        }
        .tab-panel {
            /* content-card class styles this now */
        }
        .header-image-container {
            display: flex;
            justify-content: space-between; /* Distributes space between items */
            align-items: center;
            margin-bottom: 1rem; /* Replaces mb-4 */
        }
        .side-art {
            flex-shrink: 0; /* Prevent shrinking */
        }
        .main-banner {
            flex-grow: 1; /* Allow banner to take available space for centering */
            display: flex;
            justify-content: center; /* Center the image within this flex item */
        }
        /* New styles for iframe panels */
        .iframe-panel {
            height: 600px; /* Set a fixed height for iframes */
            min-height: 400px;
        }
        .iframe-panel iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 0.5rem;
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">
    <div class="container mx-auto max-w-5xl">
        <header class="text-center mb-6">
            <div class="header-image-container">
                <img src="images/tweeeens1.png" alt="Left Side Art" class="placeholder-img !max-w-[150px] md:!max-w-[200px] border-0 side-art">
                
                <div class="main-banner">
                    <img src="images/dslogo.png" alt="Academy Banner" class="placeholder-img !max-w-xs sm:!max-w-sm md:!max-w-md border-0 mx-auto">
                </div>
                
                <img src="images/tweeeens2.png" alt="Right Side Art" class="placeholder-img !max-w-[150px] md:!max-w-[200px] border-0 side-art">
            </div>
            <h1 class="medieval-title text-5xl md:text-6xl font-bold gold-text mb-2">Combat Academy</h1>
            <p class="text-2xl md:text-3xl text-stone-300">Rules and Regulations</p>
        </header>

        <div id="tab-container" class="mb-0 flex flex-wrap justify-center">
            <!-- Original tabs -->
            <button class="tab-button active" data-tab="conduct">Academy Conduct</button>
            <button class="tab-button" data-tab="getting-started">Getting Started</button>
            <button class="tab-button" data-tab="bot-usage">Using The Bot</button>
            <button class="tab-button" data-tab="fight-commands">Fight Commands</button>
            <button class="tab-button" data-tab="diaper-rules">Diaper Rules</button>
            <button class="tab-button" data-tab="helpful-links">Helpful Links</button>
            <button class="tab-button" data-tab="dice-final">Dice Are Final</button>
        </div>

        <!-- Original content panels -->
        <div id="conduct-panel" class="tab-panel content-card p-6 rounded-b-lg shadow-xl">
            <h2 class="medieval-title text-3xl font-semibold mb-6 pb-2">Academy Conduct</h2>
            <div class="grid md:grid-cols-3 gap-6 items-start">
                <div class="md:col-span-2 space-y-4">
                    <p><strong class="gold-text">"Lawful" Combat:</strong> Must stay in Sparring Room channels. PvP outside designated areas may face consequences from staff. You can PvP outside these areas if you accept the risks.</p>
                    <p><strong class="gold-text">PvP Agreement:</strong> You acknowledge that PvP may occur. Fight or flee to avoid conflict. This is a Combat Academy.</p>
                    <p><strong class="gold-text">No Abuse:</strong> Ganging up or abusing players is forbidden. Access may be revoked. Play nice; no killing.</p>
                    <p><strong class="gold-text">Character Creation:</strong> Owlcan only approves characters, no troubleshooting provided.</p>
                    <p><strong class="gold-text">Rolls:</strong> Avoid superfluous rolls for actions a normal person wouldn't fail under extreme circumstances.</p>
                    <p><strong class="gold-text">Mortality:</strong> You are not dead unless Owlcan states it. Do not circumvent death rules.</p>
                    <p><strong class="gold-text">Server Nickname:</strong> Recommended to add your character name to your server nickname.</p>
                    <p><strong class="gold-text">Uniforms:</strong> Femme-Cut and Masculine-Cut examples provided. Combinations are acceptable if a shirt, undershirt, vest, socks, bottoms, and underpants are present and reasonably unaltered.</p>
                </div>
                <img src="images/sparring.png" alt="Sparring Rules Icon" class="placeholder-img hidden md:block !max-w-full md:!max-w-xs lg:!max-w-sm">
            </div>
        </div>

        <div id="getting-started-panel" class="tab-panel content-card p-6 rounded-b-lg shadow-xl hidden">
            <h2 class="medieval-title text-3xl font-semibold mb-6 pb-2">Getting Started: Character Creation (Level 5)</h2>
            <div class="grid md:grid-cols-3 gap-6 items-start">
                 <img src="images/checkyoursheet.png" alt="Character Sheet Art" class="placeholder-img hidden md:block !max-w-full md:!max-w-xs lg:!max-w-sm">
                <div class="md:col-span-2 space-y-4">
                    <p>This game uses Dungeons and Dragons 5th Edition. You'll need a character sheet. Compatible methods: Gsheet and D&D Beyond.</p>
                    <h3 class="text-xl font-semibold mt-4">Gsheet:</h3>
                    <p>Use this link: <a href="https://gsheet2.avrae.io/" target="_blank" class="link-custom">GSheet v2.0</a>.</p>
                    <p>Once made, use command: <code class="code-block inline-block">!gsheet (link to google sheet, set privacy to "anyone with link can view")</code>.</p>
                    <p>This is a manual, free option.</p>
                    <h3 class="text-xl font-semibold mt-4">D&D Beyond:</h3>
                    <p>Use the official site: <a href="https://www.dndbeyond.com/characters/builder" target="_blank" class="link-custom">D&D Beyond Character Builder</a>.</p>
                    <p>Link with command: <code class="code-block inline-block">!beyond (url to character)</code>.</p>
                    <p>Note: Many features are behind a paywall.</p>
                    <h3 class="text-xl font-semibold mt-4">Key Character Creation Points:</h3>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong class="gold-text">Starting Level:</strong> Characters are currently <strong class="text-2xl gold-text">Level 5</strong>. Choose spells and feats accordingly.</li>
                        <li><strong class="gold-text">Point Buy System:</strong> Use the 27 point buy system. Start with 8 in every skill, distribute 27 additional points. Calculator: <a href="http://chicken-dinner.com/5e/5e-point-buy.html" target="_blank" class="link-custom">Point Buy Calculator</a>.</li>
                        <li><strong class="gold-text">Health Calculation:</strong> Take max HP per level. (e.g., Bard d8 = 8 + CON modifier per level).</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="bot-usage-panel" class="tab-panel content-card p-6 rounded-b-lg shadow-xl hidden">
            <h2 class="medieval-title text-3xl font-semibold mb-6 pb-2">Using The Bot</h2>
            <img src="images/hugabot.png" alt="Bot Interface Concept" class="placeholder-img !max-w-md md:!max-w-lg mx-auto">
            <p class="mb-4">The bot has many useful commands. `<>` denotes required, `()` optional. Do not include brackets. Shortened commands are in `[]`.</p>
            <ul class="space-y-3">
                <li><code class="code-block">!roll [!r] &lt;num_dice&gt;d&lt;sides&gt; (+ mod) (adv/dis) (-dc &lt;target_num&gt;)</code>: Rolls dice, can include modifiers, advantage/disadvantage, and specify DC.</li>
                <li><code class="code-block">!check [!c] &lt;skill&gt; (adv/dis) (-dc &lt;target_num&gt;)</code>: Rolls for a skill/attribute using sheet modifiers.</li>
                <li><code class="code-block">!save [!s] &lt;skill&gt; (adv/dis) (-dc &lt;target_num&gt;)</code>: Rolls for a skill save using sheet modifiers.</li>
                <li><code class="code-block">!attack [!a] &lt;attack_name&gt; (adv/dis)</code>: Attacks with a weapon from your sheet.</li>
                <li><code class="code-block">!cast &lt;spell_name&gt; (-l &lt;level&gt;) (-i) (-dc &lt;target_num&gt;)</code>: Casts a spell. `-l` for slot level, `-i` to ignore restrictions (use carefully!), `-dc` for custom DC.</li>
                <li><code class="code-block">!game [!g] (longrest) (shortrest) (spellslot (slot_to_check) (num_left)) (hp)</code>: Manages character game status. Includes rests, spell slot checking, and HP management.</li>
            </ul>
        </div>

        <div id="fight-commands-panel" class="tab-panel content-card p-6 rounded-b-lg shadow-xl hidden">
            <h2 class="medieval-title text-3xl font-semibold mb-6 pb-2">Fight Commands (Initiative System)</h2>
             <img src="images/image(1).png" alt="Dynamic Combat Scene" class="placeholder-img !max-w-md md:!max-w-lg mx-auto">
            <p class="mb-4">The bot's initiative tracking system is invaluable for combat.</p>
            <p><strong class="gold-text">Starting Combat:</strong> One player uses <code class="code-block inline-block">!init begin</code>.</p>
            <p><strong class="gold-text">Joining Combat:</strong> Players use <code class="code-block inline-block">!init join (adv/dis if applicable)</code>.</p>
            <p><strong class="gold-text">Turns:</strong> Use <code class="code-block inline-block">!init next</code> to start the first turn and to proceed to subsequent turns.</p>
            <h3 class="text-xl font-semibold mt-6 mb-2">Initiative Commands:</h3>
            <ul class="space-y-3">
                <li><code class="code-block">!init madd &lt;monster_name&gt;</code>: Adds a monster with auto health/stats.</li>
                <li><code class="code-block">!init hp &lt;target_name&gt; &lt;mod, set, max&gt; &lt;hp_value or +value&gt;</code>: Sets target's health.</li>
                <li><code class="code-block">!init attack &lt;target_name&gt; &lt;attack_name&gt; (adv/dis)</code>: Attacks target.</li>
                <li><code class="code-block">!init aoo &lt;target_name&gt; &lt;attack_name&gt;</code>: Attack of opportunity.</li>
                <li><code class="code-block">!init cast &lt;spellname&gt; (-t &lt;target(s)&gt;)</code>: Casts spell, auto calculates saves/DC.</li>
                <li><code class="code-block">!init reactcast &lt;spellname&gt; (-t &lt;target(s)&gt;)</code>: Casts spell as reaction.</li>
                <li><code class="code-block">!init end</code>: Ends combat in the channel.</li>
            </ul>
            <p class="mt-4">Find all bot commands here: <a href="https://avrae.io/commands" target="_blank" class="link-custom">Avrae Commands</a>.</p>
        </div>
        
        <div id="diaper-rules-panel" class="tab-panel content-card p-6 rounded-b-lg shadow-xl hidden">
            <h2 class="medieval-title text-3xl font-semibold mb-6 pb-2">Special Item Rules: Diapers</h2>
            <div class="flex flex-col md:flex-row items-start gap-6">
                <img src="images/getcrinkling.png" alt="Rules Scroll Icon" class="placeholder-img !max-w-[200px] md:!max-w-xs lg:!max-w-sm mx-auto md:mx-0">
                <ul class="list-disc list-inside space-y-2 pl-4 flex-grow">
                    <li><strong class="gold-text">-5 Speed</strong> while diapered.</li>
                    <li><strong class="gold-text">-5 additional Speed</strong> when messy (total -10 Speed).</li>
                    <li><strong class="gold-text">-5 to Persuasion</strong> if diaper is visible to someone.</li>
                    <li><strong class="gold-text">-10 to Persuasion</strong> if stinky or visibly leaking and diaper is visible.</li>
                    <li><strong class="gold-text">+1 to Bluff checks</strong> involving innocence/guiltlessness if diaper is visible.</li>
                </ul>
            </div>
        </div>

        <div id="helpful-links-panel" class="tab-panel content-card p-6 rounded-b-lg shadow-xl hidden">
            <h2 class="medieval-title text-3xl font-semibold mb-6 pb-2">Helpful Links</h2>
            <img src="images/features.png" alt="Library of Links" class="placeholder-img !max-w-md md:!max-w-lg mx-auto"> 
            <ul class="list-disc list-inside space-y-2 pl-4 mt-6">
                <li><a href="https://crobi.github.io/dnd5e-quickref/preview/quickref.html" target="_blank" class="link-custom">D&D 5e Quick Reference</a>: Actions your character can take.</li>
                <li><a href="https://5thsrd.org/rules/abilities/strength/" target="_blank" class="link-custom">5e SRD: Strength (Carrying Capacity)</a>: How much your character can carry.</li>
            </ul>
        </div>

        <div id="dice-final-panel" class="tab-panel content-card p-6 rounded-b-lg shadow-xl hidden"> 
            <h2 class="medieval-title text-3xl font-semibold mb-6 pb-2">Dice Are Final</h2>
            <div class="flex flex-col md:flex-row items-start gap-6">
                <img src="images/dicearefinal.png" alt="Dice of Destiny" class="placeholder-img !max-w-[200px] md:!max-w-xs lg:!max-w-sm mx-auto md:mx-0">
                <p class="flex-grow">With exceptions like the Lucky feat, dice rolls are final. If you believe a roll is superfluous (auto-pass) or your passive skill is sufficient, you don't need to roll. But what's the fun in that?</p>
            </div>
        </div>

        <footer class="text-center mt-12 py-6 border-t-2 border-amber-600">
            <p class="text-stone-300">&copy; Combat Academy - May your rolls be ever in your favor.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanels = document.querySelectorAll('.tab-panel');

            // Show the first tab by default
            if (tabButtons.length > 0 && tabPanels.length > 0) {
                tabButtons[0].classList.add('active');
                // The first panel (conduct-panel) is already visible by not having 'hidden'
            }

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.dataset.tab;
                    const iframeSrc = button.dataset.iframe;

                    // Deactivate all buttons and hide all panels
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabPanels.forEach(panel => panel.classList.add('hidden'));

                    // Activate clicked button and show corresponding panel
                    button.classList.add('active');
                    const targetPanel = document.getElementById(targetTab + '-panel');
                    
                    if (targetPanel) {
                        targetPanel.classList.remove('hidden');
                        
                        // If this is an iframe tab, load the content
                        if (iframeSrc) {
                            const iframe = targetPanel.querySelector('iframe');
                            if (iframe && iframe.src !== iframeSrc) {
                                iframe.src = iframeSrc;
                            }
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>
